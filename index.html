<!DOCTYPE html>
<html>
<head>
<title>Math Practice Sheet</title>
<style>
  body {
    font-family: sans-serif;
  }
  table {
    width: 95%; /* Adjust width for A4 */
    border-collapse: collapse;
    margin: 10px auto; /* Adjust margins for A4 */
  }
  th, td {
    border: 1px solid black;
    padding: 8px; /* Adjust padding for A4 */
    text-align: left;
    vertical-align: top;
    font-size: 14px; /* Adjust font size for A4 */
  }
  .problem {
    margin-bottom: 8px; /* Adjust spacing for A4 */
  }
  @media print {
    body {
      font-size: 12pt;
    }
    table {
      width: 100%;
    }
    th, td {
      padding: 6px;
      font-size: 11pt;
    }
    .problem {
      margin-bottom: 6px;
    }
  }
  .no-print {
    margin: 10px auto;
    text-align: center;
  }
  .no-print button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    margin: 0 10px;
  }
  .input-group {
    margin-bottom: 10px;
  }
  .input-group label {
    display: inline-block;
    width: 150px;
    text-align: right;
    margin-right: 10px;
  }
  .input-group input {
    padding: 5px;
    font-size: 14px;
  }
  @media print {
    .no-print {
      display: none;
    }
    body {
      font-size: 12pt;
    }
    table {
      width: 100%;
    }
    th, td {
      padding: 6px;
      font-size: 11pt;
    }
    .problem {
      margin-bottom: 6px;
    }
  }
</style>
</head>
<body>

  <div class="no-print">
    <div class="input-group no-print">
      <label for="additionMax1">Addition Max 1:</label>
      <input type="number" id="additionMax1" value="1000">
    </div>
    <div class="input-group no-print">
      <label for="additionMax2">Addition Max 2:</label>
      <input type="number" id="additionMax2" value="1000">
    </div>
    <div class="input-group no-print">
      <label for="subtractionMax1">Subtraction Max 1:</label>
      <input type="number" id="subtractionMax1" value="1000">
    </div>
    <div class="input-group no-print">
      <label for="subtractionMax2">Subtraction Max 2:</label>
      <input type="number" id="subtractionMax2" value="1000">
    </div>
    <div class="input-group no-print">
      <label for="multiplicationMax1">Multiplication Max 1:</label>
      <input type="number" id="multiplicationMax1" value="10">
    </div>
    <div class="input-group no-print">
      <label for="multiplicationMax2">Multiplication Max 2:</label>
      <input type="number" id="multiplicationMax2" value="10">
    </div>
    <div class="input-group no-print">
      <label for="divisionMax1">Division Max 1:</label>
      <input type="number" id="divisionMax1" value="100">
    </div>
    <div class="input-group no-print">
      <label for="divisionMax2">Division Max 2:</label>
      <input type="number" id="divisionMax2" value="10">
    </div>
    <button onclick="generateMathSheet()">Generate New Sheet</button>
    <button onclick="window.print()">Print Sheet</button>
  </div>

  <table>
    <tr>
      <th>Addition (Max: <span id="additionMax1Display">1000</span>, <span id="additionMax2Display">1000</span>)</th>
      <th>Subtraction (Max: <span id="subtractionMax1Display">1000</span>, <span id="subtractionMax2Display">1000</span>)</th>
    </tr>
    <tr>
      <td>
        <div id="additionProblems">
          <!-- Addition problems will be generated here -->
        </div>
      </td>
      <td>
        <div id="subtractionProblems">
          <!-- Subtraction problems will be generated here -->
        </div>
      </td>
    </tr>
    <tr>
      <th>Multiplication (Max: <span id="multiplicationMax1Display">10</span>, <span id="multiplicationMax2Display">10</span>)</th>
      <th>Division (Max: <span id="divisionMax1Display">10</span>, <span id="divisionMax2Display">10</span>)</th>
    </tr>
    <tr>
      <td>
        <div id="multiplicationProblems">
          <!-- Multiplication problems will be generated here -->
        </div>
      </td>
      <td>
        <div id="divisionProblems">
          <!-- Division problems will be generated here -->
        </div>
      </td>
    </tr>
  </table>

  <script>
    function generateRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function generateAdditionProblems(numProblems = 15, max1, max2) {
      let problems = [];
      for (let i = 0; i < numProblems; i++) {
        let num1 = generateRandomInt(1, max1);
        let num2 = generateRandomInt(1, max2);
        problems.push(`<div class="problem">${i + 1}. ${num1} + ${num2} = _______</div>`);
      }
      return problems;
    }

    function generateSubtractionProblems(numProblems = 15, max1, max2) {
      let problems = [];
      for (let i = 0; i < numProblems; i++) {
        let num1 = generateRandomInt(1, max1);
        let num2 = generateRandomInt(1, max2);
        if (num1 < num2) {
          [num1, num2] = [num2, num1]; // Swap them
        }
        problems.push(`<div class="problem">${i + 1}. ${num1} - ${num2} = _______</div>`);
      }
      return problems;
    }

    function generateMultiplicationProblems(numProblems = 15, max1, max2) {
      let problems = [];
      for (let i = 0; i < numProblems; i++) {
        let num1 = generateRandomInt(1, max1);
        let num2 = generateRandomInt(1, max2);
        problems.push(`<div class="problem">${i + 1}. ${num1} ร ${num2} = _______</div>`);
      }
      return problems;
    }

    function generateDivisionProblems(numProblems = 15, max1, max2) {
      let problems = [];
      for (let i = 0; i < numProblems; i++) {
        let num1 = generateRandomInt(1, max1);
        let num2 = generateRandomInt(1, max2);
        if (num1 < num2) {
          [num1, num2] = [num2, num1]; // Swap them
        }
        problems.push(`<div class="problem">${i + 1}. ${Math.floor(num1/num2)*num2} รท ${num2} = _______</div>`);
      }
      return problems;
    }

    function generateMathSheet() {
      const additionMax1 = parseInt(document.getElementById("additionMax1").value);
      const additionMax2 = parseInt(document.getElementById("additionMax2").value);
      const subtractionMax1 = parseInt(document.getElementById("subtractionMax1").value);
      const subtractionMax2 = parseInt(document.getElementById("subtractionMax2").value);
      const multiplicationMax1 = parseInt(document.getElementById("multiplicationMax1").value);
      const multiplicationMax2 = parseInt(document.getElementById("multiplicationMax2").value);
      const divisionMax1 = parseInt(document.getElementById("divisionMax1").value);
      const divisionMax2 = parseInt(document.getElementById("divisionMax2").value);

      document.getElementById("additionMax1Display").innerText = additionMax1;
      document.getElementById("additionMax2Display").innerText = additionMax2;
      document.getElementById("subtractionMax1Display").innerText = subtractionMax1;
      document.getElementById("subtractionMax2Display").innerText = subtractionMax2;
      document.getElementById("multiplicationMax1Display").innerText = multiplicationMax1;
      document.getElementById("multiplicationMax2Display").innerText = multiplicationMax2;
      document.getElementById("divisionMax1Display").innerText = divisionMax1;
      document.getElementById("divisionMax2Display").innerText = divisionMax2;

      document.getElementById("additionProblems").innerHTML = generateAdditionProblems(15, additionMax1, additionMax2).join('');
      document.getElementById("subtractionProblems").innerHTML = generateSubtractionProblems(15, subtractionMax1, subtractionMax2).join('');
      document.getElementById("multiplicationProblems").innerHTML = generateMultiplicationProblems(15, multiplicationMax1, multiplicationMax2).join('');
      document.getElementById("divisionProblems").innerHTML = generateDivisionProblems(15, divisionMax1, divisionMax2).join('');
    }

    // Generate a sheet when the page loads
    function setDefaultsFromUrl() {
      const urlParams = new URLSearchParams(window.location.search);
      const params = [
        'additionMax1', 'additionMax2',
        'subtractionMax1', 'subtractionMax2',
        'multiplicationMax1', 'multiplicationMax2',
        'divisionMax1', 'divisionMax2'
      ];

      params.forEach(param => {
        if (urlParams.has(param)) {
          document.getElementById(param).value = urlParams.get(param);
        }
      });
    }

    // Set defaults from URL parameters before generating the sheet
    setDefaultsFromUrl();
    generateMathSheet();
  </script>

</body>
</html>
